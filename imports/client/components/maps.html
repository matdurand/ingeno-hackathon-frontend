<template name="maps">
    <form id="endpointForm" class="list-block">
        <ul>
            <li>
                <div class="item-content">
                    <div class="item-inner">
                        <div class="item-input">
                            <select id="endpoint-select" class="input">
                                <option value="" disabled selected>Add your endpoint in the team tab</option>
                                {{#each teams}}
                                    <option value="{{endpoint}}">{{endpoint}}</option>
                                {{/each}}
                            </select>
                            <input id="route-select" type="text" class="input" name="route"
                                   placeholder="route">
                            <input id="param-input" type="text" class="input" name="param"
                                   placeholder="params">
                        </div>
                    </div>
                    <div class="item-inner submit">
                        <button type="submit" id="submit-endpoint" class="button button-fill color-green">
                            <span>Test endpoint</span>
                            <i id="loader" class="fa fa-circle-o-notch fa-spin fa-2 fa-fw"></i>
                        </button>
                    </div>
                </div>
            </li>
        </ul>
    </form>


    <div class="map-container">
        {{#unless geolocationError}}
            {{#if mapOptions}}
                {{> googleMap name="map" options=mapOptions}}
            {{else}}
                <div class="map-preloader-container">
                    <span class="preloader preloader-blue">
                        <span class="preloader-inner">
                            <span class="preloader-inner-gap"></span>
                            <span class="preloader-inner-left">
                                <span class="preloader-inner-half-circle"></span>
                            </span>
                            <span class="preloader-inner-right">
                                <span class="preloader-inner-half-circle"></span>
                            </span>
                        </span>
                    </span>
                    <span class="geolocalisation-text">Getting your position</span>
                </div>
            {{/if}}
        {{else}}
            Geolocation failed: {{geolocationError}}
        {{/unless}}
    </div>
</template>